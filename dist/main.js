(()=>{"use strict";var e={876:(e,t,i)=>{var r=i(276);e.exports=function(e){return"symbol"==typeof e?"Symbol":r(e)}},298:(e,t,i)=>{var r=i(914),n=i(876),s=r("Number.prototype.valueOf");e.exports=function(e){return"Number"===n(e)?e:s(e)}},276:e=>{e.exports=function(e){return null===e?"Null":void 0===e?"Undefined":"function"==typeof e||"object"==typeof e?"Object":"number"==typeof e?"Number":"boolean"==typeof e?"Boolean":"string"==typeof e?"String":void 0}},769:(e,t,i)=>{var r,n=TypeError,s=Object.getOwnPropertyDescriptor;if(s)try{s({},"")}catch(e){s=null}var a=function(){throw new n},o=s?function(){try{return a}catch(e){try{return s(arguments,"callee").get}catch(e){return a}}}():a,l=i(405)(),h=Object.getPrototypeOf||function(e){return e.__proto__},y=r,p="undefined"==typeof Uint8Array?r:h(Uint8Array),m={"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?r:ArrayBuffer,"%ArrayBufferPrototype%":"undefined"==typeof ArrayBuffer?r:ArrayBuffer.prototype,"%ArrayIteratorPrototype%":l?h([][Symbol.iterator]()):r,"%ArrayPrototype%":Array.prototype,"%ArrayProto_entries%":Array.prototype.entries,"%ArrayProto_forEach%":Array.prototype.forEach,"%ArrayProto_keys%":Array.prototype.keys,"%ArrayProto_values%":Array.prototype.values,"%AsyncFromSyncIteratorPrototype%":r,"%AsyncFunction%":undefined,"%AsyncFunctionPrototype%":r,"%AsyncGenerator%":r,"%AsyncGeneratorFunction%":undefined,"%AsyncGeneratorPrototype%":r,"%AsyncIteratorPrototype%":y&&l&&Symbol.asyncIterator?y[Symbol.asyncIterator]():r,"%Atomics%":"undefined"==typeof Atomics?r:Atomics,"%Boolean%":Boolean,"%BooleanPrototype%":Boolean.prototype,"%DataView%":"undefined"==typeof DataView?r:DataView,"%DataViewPrototype%":"undefined"==typeof DataView?r:DataView.prototype,"%Date%":Date,"%DatePrototype%":Date.prototype,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%ErrorPrototype%":Error.prototype,"%eval%":eval,"%EvalError%":EvalError,"%EvalErrorPrototype%":EvalError.prototype,"%Float32Array%":"undefined"==typeof Float32Array?r:Float32Array,"%Float32ArrayPrototype%":"undefined"==typeof Float32Array?r:Float32Array.prototype,"%Float64Array%":"undefined"==typeof Float64Array?r:Float64Array,"%Float64ArrayPrototype%":"undefined"==typeof Float64Array?r:Float64Array.prototype,"%Function%":Function,"%FunctionPrototype%":Function.prototype,"%Generator%":r,"%GeneratorFunction%":undefined,"%GeneratorPrototype%":r,"%Int8Array%":"undefined"==typeof Int8Array?r:Int8Array,"%Int8ArrayPrototype%":"undefined"==typeof Int8Array?r:Int8Array.prototype,"%Int16Array%":"undefined"==typeof Int16Array?r:Int16Array,"%Int16ArrayPrototype%":"undefined"==typeof Int16Array?r:Int8Array.prototype,"%Int32Array%":"undefined"==typeof Int32Array?r:Int32Array,"%Int32ArrayPrototype%":"undefined"==typeof Int32Array?r:Int32Array.prototype,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":l?h(h([][Symbol.iterator]())):r,"%JSON%":"object"==typeof JSON?JSON:r,"%JSONParse%":"object"==typeof JSON?JSON.parse:r,"%Map%":"undefined"==typeof Map?r:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&l?h((new Map)[Symbol.iterator]()):r,"%MapPrototype%":"undefined"==typeof Map?r:Map.prototype,"%Math%":Math,"%Number%":Number,"%NumberPrototype%":Number.prototype,"%Object%":Object,"%ObjectPrototype%":Object.prototype,"%ObjProto_toString%":Object.prototype.toString,"%ObjProto_valueOf%":Object.prototype.valueOf,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?r:Promise,"%PromisePrototype%":"undefined"==typeof Promise?r:Promise.prototype,"%PromiseProto_then%":"undefined"==typeof Promise?r:Promise.prototype.then,"%Promise_all%":"undefined"==typeof Promise?r:Promise.all,"%Promise_reject%":"undefined"==typeof Promise?r:Promise.reject,"%Promise_resolve%":"undefined"==typeof Promise?r:Promise.resolve,"%Proxy%":"undefined"==typeof Proxy?r:Proxy,"%RangeError%":RangeError,"%RangeErrorPrototype%":RangeError.prototype,"%ReferenceError%":ReferenceError,"%ReferenceErrorPrototype%":ReferenceError.prototype,"%Reflect%":"undefined"==typeof Reflect?r:Reflect,"%RegExp%":RegExp,"%RegExpPrototype%":RegExp.prototype,"%Set%":"undefined"==typeof Set?r:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&l?h((new Set)[Symbol.iterator]()):r,"%SetPrototype%":"undefined"==typeof Set?r:Set.prototype,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?r:SharedArrayBuffer,"%SharedArrayBufferPrototype%":"undefined"==typeof SharedArrayBuffer?r:SharedArrayBuffer.prototype,"%String%":String,"%StringIteratorPrototype%":l?h(""[Symbol.iterator]()):r,"%StringPrototype%":String.prototype,"%Symbol%":l?Symbol:r,"%SymbolPrototype%":l?Symbol.prototype:r,"%SyntaxError%":SyntaxError,"%SyntaxErrorPrototype%":SyntaxError.prototype,"%ThrowTypeError%":o,"%TypedArray%":p,"%TypedArrayPrototype%":p?p.prototype:r,"%TypeError%":n,"%TypeErrorPrototype%":n.prototype,"%Uint8Array%":"undefined"==typeof Uint8Array?r:Uint8Array,"%Uint8ArrayPrototype%":"undefined"==typeof Uint8Array?r:Uint8Array.prototype,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?r:Uint8ClampedArray,"%Uint8ClampedArrayPrototype%":"undefined"==typeof Uint8ClampedArray?r:Uint8ClampedArray.prototype,"%Uint16Array%":"undefined"==typeof Uint16Array?r:Uint16Array,"%Uint16ArrayPrototype%":"undefined"==typeof Uint16Array?r:Uint16Array.prototype,"%Uint32Array%":"undefined"==typeof Uint32Array?r:Uint32Array,"%Uint32ArrayPrototype%":"undefined"==typeof Uint32Array?r:Uint32Array.prototype,"%URIError%":URIError,"%URIErrorPrototype%":URIError.prototype,"%WeakMap%":"undefined"==typeof WeakMap?r:WeakMap,"%WeakMapPrototype%":"undefined"==typeof WeakMap?r:WeakMap.prototype,"%WeakSet%":"undefined"==typeof WeakSet?r:WeakSet,"%WeakSetPrototype%":"undefined"==typeof WeakSet?r:WeakSet.prototype},c=i(612).call(Function.call,String.prototype.replace),u=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,d=/\\(\\)?/g,f=function(e){var t=[];return c(e,u,(function(e,i,r,n){t[t.length]=r?c(n,d,"$1"):i||e})),t},g=function(e,t){if(!(e in m))throw new SyntaxError("intrinsic "+e+" does not exist!");if(void 0===m[e]&&!t)throw new n("intrinsic "+e+" exists, but is not available. Please file an issue!");return m[e]};e.exports=function(e,t){if("string"!=typeof e||0===e.length)throw new TypeError("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof t)throw new TypeError('"allowMissing" argument must be a boolean');for(var i=f(e),r=g("%"+(i.length>0?i[0]:"")+"%",t),a=1;a<i.length;a+=1)if(null!=r)if(s&&a+1>=i.length){var o=s(r,i[a]);if(!t&&!(i[a]in r))throw new n("base intrinsic for "+e+" exists, but the property is not available.");r=o&&"get"in o&&!("originalValue"in o.get)?o.get:r[i[a]]}else r=r[i[a]];return r}},147:(e,t,i)=>{var r=i(612),n=i(769),s=n("%Function.prototype.apply%"),a=n("%Function.prototype.call%"),o=n("%Reflect.apply%",!0)||r.call(a,s),l=n("%Object.defineProperty%",!0);if(l)try{l({},"a",{value:1})}catch(e){l=null}e.exports=function(){return o(r,a,arguments)};var h=function(){return o(r,s,arguments)};l?l(e.exports,"apply",{value:h}):e.exports.apply=h},914:(e,t,i)=>{var r=i(769),n=i(147),s=n(r("String.prototype.indexOf"));e.exports=function(e,t){var i=r(e,!!t);return"function"==typeof i&&s(e,".prototype.")?n(i):i}},648:e=>{var t="Function.prototype.bind called on incompatible ",i=Array.prototype.slice,r=Object.prototype.toString,n="[object Function]";e.exports=function(e){var s=this;if("function"!=typeof s||r.call(s)!==n)throw new TypeError(t+s);for(var a,o=i.call(arguments,1),l=function(){if(this instanceof a){var t=s.apply(this,o.concat(i.call(arguments)));return Object(t)===t?t:this}return s.apply(e,o.concat(i.call(arguments)))},h=Math.max(0,s.length-o.length),y=[],p=0;p<h;p++)y.push("$"+p);if(a=Function("binder","return function ("+y.join(",")+"){ return binder.apply(this,arguments); }")(l),s.prototype){var m=function(){};m.prototype=s.prototype,a.prototype=new m,m.prototype=null}return a}},612:(e,t,i)=>{var r=i(648);e.exports=Function.prototype.bind||r},405:(e,t,i)=>{var r=i.g.Symbol,n=i(419);e.exports=function(){return"function"==typeof r&&"function"==typeof Symbol&&"symbol"==typeof r("foo")&&"symbol"==typeof Symbol("bar")&&n()}},419:e=>{e.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var e={},t=Symbol("test"),i=Object(t);if("string"==typeof t)return!1;if("[object Symbol]"!==Object.prototype.toString.call(t))return!1;if("[object Symbol]"!==Object.prototype.toString.call(i))return!1;for(t in e[t]=42,e)return!1;if("function"==typeof Object.keys&&0!==Object.keys(e).length)return!1;if("function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(e).length)return!1;var r=Object.getOwnPropertySymbols(e);if(1!==r.length||r[0]!==t)return!1;if(!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var n=Object.getOwnPropertyDescriptor(e,t);if(42!==n.value||!0!==n.enumerable)return!1}return!0}}},t={};function i(r){if(t[r])return t[r].exports;var n=t[r]={exports:{}};return e[r](n,n.exports,i),n.exports}i.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),(()=>{class e extends Phaser.Scene{constructor(){super({key:"menu"}),this.start}preload(){this.load.image("background","./assets/menu_bg.jpg")}create(){this.add.sprite(0,0,"background").setOrigin(0,0),this.start=this.add.text(300,190,"START THE GAME"),this.start.fontWeight="bold",this.start.stroke="#000000",this.start.strokeThickness=6,this.start.fill="#43d637",this.start.setInteractive({useHandCursor:!0}),this.start.on("pointerdown",(()=>this.clickButton()))}clickButton(){this.scene.switch("map1")}}const t=e;i(298);class r extends Phaser.Physics.Arcade.Sprite{constructor(e,t,i){super(e,t,i,"bullet")}fire(e,t,i){this.body.setAllowGravity(!1),this.body.reset(e,t),this.setActive(!0),this.setVisible(!0),i?this.setVelocityX(500):i||this.setVelocityX(-500)}preUpdate(e,t){super.preUpdate(e,t),(this.x>=800||this.x<=0)&&(this.setActive(!1),this.setVisible(!1))}}class n extends Phaser.Physics.Arcade.Group{constructor(e){super(e.physics.world,e),this.createMultiple({classType:r,frameQuantity:30,active:!1,visible:!1,key:"bullet"})}shootBullet(e,t,i){const r=this.getFirstDead(!1);r&&r.fire(e,t,i)}}class s extends Phaser.Physics.Arcade.Sprite{constructor(e,t,i){super(e,t,i,"ennemyBullet")}fire(e,t,i){this.body.setAllowGravity(!1),this.body.reset(e,t),this.setActive(!0),this.setVisible(!0),i?this.setVelocityX(300):i||this.setVelocityX(-300)}preUpdate(e,t){super.preUpdate(e,t),(this.x>=800||this.x<=0)&&(this.setActive(!1),this.setVisible(!1))}}class a extends Phaser.Physics.Arcade.Group{constructor(e){super(e.physics.world,e),this.createMultiple({classType:s,frameQuantity:3,active:!1,visible:!1,key:"ennemyBullet"})}shootBullet(e,t,i){const r=this.getFirstDead(!1);r&&r.fire(e,t,i)}}class o extends Phaser.Scene{constructor(){super({key:"map1"}),this.player,this.cursors,this.faceRight,this.ennemyFaceRight,this.PlayerBulletGroup,this.EnnemyBulletGroup,this.bulletDelay,this.ennemyBulletDelay,this.ennemy,this.timerText,this.timerTimeEvent,this.completedTime,this.playedTime,this.inGameBoolean,this.lvlOneSpawnPoint,this.nameLvlMap}init(){}preload(){this.load.image("tempBackground","assets/Map/Wasteland_Sky.png"),this.load.spritesheet("gunner","assets/TeamGunner/CHARACTER_SPRITES/Black/Gunner_Black_Full_Line2.png",{frameWidth:28,frameHeight:35}),this.load.image("bullet","assets/TeamGunner/EXTRAS/bullet.png"),this.load.spritesheet("ennemy","assets/TeamGunner/CHARACTER_SPRITES/Red/Gunner_Red_idle.png",{frameWidth:48,frameHeight:48}),this.load.image("ennemyBullet","assets/TeamGunner/EXTRAS/MuzzleFLash.png"),this.load.image("map_assets","assets/Map/Wasteland.png"),this.load.tilemapTiledJSON("map1","assets/Map/Map1.json")}create(){this.createBackground(),this.createCharacter(),this.createAnims(),this.createALvl(),this.createSpawnPointLvl(180,380,400,750,300,500,150,600),this.SetUpTimer(),this.input.keyboard.on("keydown_W",this.stopAndSaveTimer,this),this.createEnnemy(),this.createAnimsEnnemy(),this.PlayerBulletGroup=new n(this),this.EnnemyBulletGroup=new a(this),this.physics.add.overlap(this.ennemy,this.PlayerBulletGroup,this.enemyHit,null,this),this.physics.add.overlap(this.PlayerBulletGroup,this.mapLayer,this.wallHiy,null,this),this.createDelay(),this.cursors=this.input.keyboard.createCursorKeys(),console.log(this)}update(){this.movements(),this.ennemyMovements(),this.shoot(),this.Ennemyshoot(),this.checkingDelay(),this.checkingEnnemyDelay()}createBackground(){this.add.image(400,280,"tempBackground")}createCharacter(){this.player=this.physics.add.sprite(35,400,"gunner"),this.faceRight=!0,this.player.setCollideWorldBounds(!0)}createALvl(){this.createLvlOneMap(),this.createLvlOneTileSet(),this.createLvlOnePlateform()}createLvlOneMap(){this.map=this.make.tilemap({key:"map1"})}createLvlOneTileSet(){this.tileset=this.map.addTilesetImage("map_assets_js","map_assets")}createLvlOnePlateform(){this.mapLayer=this.map.createStaticLayer(0,this.tileset,0,0),this.mapLayer.setCollisionByExclusion([-1]),this.physics.add.collider(this.player,this.mapLayer)}createSpawnPointLvl(e,t,i,r,n,s,a,o){this.lvlOneSpawnPoint=new Array,this.lvlOneSpawnPoint.push(e),this.lvlOneSpawnPoint.push(t),this.lvlOneSpawnPoint.push(i),this.lvlOneSpawnPoint.push(r),this.lvlOneSpawnPoint.push(n),this.lvlOneSpawnPoint.push(s),this.lvlOneSpawnPoint.push(a),this.lvlOneSpawnPoint.push(o)}createEnnemy(){this.ennemy=this.physics.add.sprite(this.lvlOneSpawnPoint.pop(),this.lvlOneSpawnPoint.pop(),"ennemy"),this.faceRight=!0,this.ennemy.setCollideWorldBounds(!0),this.physics.add.collider(this.ennemy,this.mapLayer)}createDelay(){this.bulletDelay=10,this.ennemyBulletDelay=3}checkingDelay(){this.bulletDelay<=9&&this.bulletDelay++}checkingEnnemyDelay(){this.ennemyBulletDelay<=2&&this.ennemyBulletDelay++}movements(){this.cursors.right.isDown?(this.faceRight=!0,this.player.setVelocityX(160),this.player.body.blocked.down&&this.player.anims.play("right",!0)):this.cursors.left.isDown?(this.faceRight=!1,this.player.setVelocityX(-160),this.player.body.blocked.down&&this.player.anims.play("left",!0)):(this.player.setVelocityX(0),this.faceRight?this.player.anims.play("idleRight",!0):this.player.anims.play("idleLeft",!0)),this.cursors.up.isDown&&this.player.body.blocked.down&&this.player.setVelocityY(-250),this.player.body.blocked.down||(this.faceRight?this.player.anims.play("jumpRight",!0):this.player.anims.play("jumpLeft",!0))}ennemyMovements(){this.player.x-this.ennemy.x>0?(this.ennemy.scaleX=1,this.ennemyFaceRight=!0):(this.ennemy.scaleX=-1,this.ennemyFaceRight=!1),this.ennemy.anims.play("idleEnnemy",!0)}shoot(){this.cursors.space.isDown&&10==this.bulletDelay&&(this.PlayerBulletGroup.shootBullet(this.player.x,this.player.y,this.faceRight),this.bulletDelay=0)}Ennemyshoot(){3==this.ennemyBulletDelay&&(this.EnnemyBulletGroup.shootBullet(this.ennemy.x,this.ennemy.y,this.ennemyFaceRight),this.ennemyBulletDelay=0)}enemyHit(e,t){console.log("ennemy hit"),this.lvlOneSpawnPoint.length<=8?this.scene.switch("map2"):(e.x=this.lvlOneSpawnPoint.pop(),e.y=this.lvlOneSpawnPoint.pop(),t.destroy())}wallHit(e,t){e.destroy()}switchMap(){this.lvlOneSpawnPoint=new Array,this.nameLvlMap.length=0}createAnims(){this.anims.create({key:"left",frames:this.anims.generateFrameNumbers("gunner",{start:14,end:19}),frameRate:10}),this.anims.create({key:"right",frames:this.anims.generateFrameNumbers("gunner",{start:20,end:25}),frameRate:10}),this.anims.create({key:"idleRight",frames:this.anims.generateFrameNumbers("gunner",{start:0,end:4}),frameRate:10}),this.anims.create({key:"idleLeft",frames:this.anims.generateFrameNumbers("gunner",{start:5,end:9}),frameRate:10}),this.anims.create({key:"jumpRight",frames:this.anims.generateFrameNumbers("gunner",{start:10,end:11}),frameRate:10}),this.anims.create({key:"jumpLeft",frames:this.anims.generateFrameNumbers("gunner",{start:12,end:13}),frameRate:10})}createAnimsEnnemy(){this.anims.create({key:"idleEnnemy",frames:this.anims.generateFrameNumbers("ennemy",{start:0,end:4}),frameRate:10})}SetUpTimer(){this.inGameBoolean=!0,this.playedTime=0,this.timerText=this.add.text(32,32,"Timer: "+this.formatTime(this.playedTime)),this.timerTimeEvent=this.time.addEvent({delay:1e3,callback:this.onEvent,callbackScope:this,loop:!0})}formatTime(e){var t=e%60;return`${Math.floor(e/60)}:${t=t.toString().padStart(2,"0")}`}onEvent(){!0===this.inGameBoolean&&(this.playedTime+=1,this.timerText.setText("Timer: "+this.formatTime(this.playedTime)))}stopAndSaveTimer(){console.log("COUCOUCOCUOCUC"),console.log("fdp"),this.inGameBoolean=!1,this.completedTime=this.playedTime}end(){}}const l=o;class h extends Phaser.Scene{constructor(){super({key:"map2"}),this.player,this.cursors,this.faceRight,this.ennemyFaceRight,this.PlayerBulletGroup,this.EnnemyBulletGroup,this.bulletDelay,this.ennemyBulletDelay,this.ennemy,this.timerText,this.timerTimeEvent,this.completedTime,this.playedTime,this.inGameBoolean,this.lvlOneSpawnPoint,this.nameLvlMap}init(){}preload(){this.load.image("tempBackground","assets/Map/Wasteland_Sky.png"),this.load.spritesheet("gunner","assets/TeamGunner/CHARACTER_SPRITES/Black/Gunner_Black_Full_Line2.png",{frameWidth:28,frameHeight:35}),this.load.image("bullet","assets/TeamGunner/EXTRAS/bullet.png"),this.load.spritesheet("ennemy","assets/TeamGunner/CHARACTER_SPRITES/Red/Gunner_Red_idle.png",{frameWidth:48,frameHeight:48}),this.load.image("ennemyBullet","assets/TeamGunner/EXTRAS/MuzzleFLash.png"),this.load.image("map_assets","assets/Map/Wasteland.png"),this.load.tilemapTiledJSON("map2","assets/Map/Map2.json")}create(){this.createBackground(),this.createCharacter(),this.createAnims(),this.createALvl(),this.createSpawnPointLvl(180,380,400,750,300,500,150,600),this.SetUpTimer(),this.input.keyboard.on("keydown_W",this.stopAndSaveTimer,this),this.createEnnemy(),this.createAnimsEnnemy(),this.PlayerBulletGroup=new n(this),this.EnnemyBulletGroup=new a(this),this.physics.add.overlap(this.ennemy,this.PlayerBulletGroup,this.enemyHit,null,this),this.physics.add.overlap(this.PlayerBulletGroup,this.mapLayer,this.wallHiy,null,this),this.createDelay(),this.cursors=this.input.keyboard.createCursorKeys(),console.log(this)}update(){this.movements(),this.ennemyMovements(),this.shoot(),this.Ennemyshoot(),this.checkingDelay(),this.checkingEnnemyDelay()}createBackground(){this.add.image(400,280,"tempBackground")}createCharacter(){this.player=this.physics.add.sprite(35,400,"gunner"),this.faceRight=!0,this.player.setCollideWorldBounds(!0)}createALvl(){this.createLvlOneMap(),this.createLvlOneTileSet(),this.createLvlOnePlateform()}createLvlOneMap(){this.map=this.make.tilemap({key:"map2"})}createLvlOneTileSet(){this.tileset=this.map.addTilesetImage("map_assets_js","map_assets")}createLvlOnePlateform(){this.mapLayer=this.map.createStaticLayer(0,this.tileset,0,0),this.mapLayer.setCollisionByExclusion([-1]),this.physics.add.collider(this.player,this.mapLayer)}createSpawnPointLvl(e,t,i,r,n,s,a,o){this.lvlOneSpawnPoint=new Array,this.lvlOneSpawnPoint.push(e),this.lvlOneSpawnPoint.push(t),this.lvlOneSpawnPoint.push(i),this.lvlOneSpawnPoint.push(r),this.lvlOneSpawnPoint.push(n),this.lvlOneSpawnPoint.push(s),this.lvlOneSpawnPoint.push(a),this.lvlOneSpawnPoint.push(o)}createEnnemy(){this.ennemy=this.physics.add.sprite(this.lvlOneSpawnPoint.pop(),this.lvlOneSpawnPoint.pop(),"ennemy"),this.faceRight=!0,this.ennemy.setCollideWorldBounds(!0),this.physics.add.collider(this.ennemy,this.mapLayer)}createDelay(){this.bulletDelay=10,this.ennemyBulletDelay=3}checkingDelay(){this.bulletDelay<=9&&this.bulletDelay++}checkingEnnemyDelay(){this.ennemyBulletDelay<=2&&this.ennemyBulletDelay++}movements(){this.cursors.right.isDown?(this.faceRight=!0,this.player.setVelocityX(160),this.player.body.blocked.down&&this.player.anims.play("right",!0)):this.cursors.left.isDown?(this.faceRight=!1,this.player.setVelocityX(-160),this.player.body.blocked.down&&this.player.anims.play("left",!0)):(this.player.setVelocityX(0),this.faceRight?this.player.anims.play("idleRight",!0):this.player.anims.play("idleLeft",!0)),this.cursors.up.isDown&&this.player.body.blocked.down&&this.player.setVelocityY(-250),this.player.body.blocked.down||(this.faceRight?this.player.anims.play("jumpRight",!0):this.player.anims.play("jumpLeft",!0))}ennemyMovements(){this.player.x-this.ennemy.x>0?(this.ennemy.scaleX=1,this.ennemyFaceRight=!0):(this.ennemy.scaleX=-1,this.ennemyFaceRight=!1),this.ennemy.anims.play("idleEnnemy",!0)}shoot(){this.cursors.space.isDown&&10==this.bulletDelay&&(this.PlayerBulletGroup.shootBullet(this.player.x,this.player.y,this.faceRight),this.bulletDelay=0)}Ennemyshoot(){3==this.ennemyBulletDelay&&(this.EnnemyBulletGroup.shootBullet(this.ennemy.x,this.ennemy.y,this.ennemyFaceRight),this.ennemyBulletDelay=0)}enemyHit(e,t){console.log("ennemy hit"),this.lvlOneSpawnPoint.length<=8?this.scene.switch("map3"):(e.x=this.lvlOneSpawnPoint.pop(),e.y=this.lvlOneSpawnPoint.pop(),t.destroy())}wallHit(e,t){e.destroy()}switchMap(){this.lvlOneSpawnPoint=new Array,this.nameLvlMap.length=0}createAnims(){this.anims.create({key:"left",frames:this.anims.generateFrameNumbers("gunner",{start:14,end:19}),frameRate:10}),this.anims.create({key:"right",frames:this.anims.generateFrameNumbers("gunner",{start:20,end:25}),frameRate:10}),this.anims.create({key:"idleRight",frames:this.anims.generateFrameNumbers("gunner",{start:0,end:4}),frameRate:10}),this.anims.create({key:"idleLeft",frames:this.anims.generateFrameNumbers("gunner",{start:5,end:9}),frameRate:10}),this.anims.create({key:"jumpRight",frames:this.anims.generateFrameNumbers("gunner",{start:10,end:11}),frameRate:10}),this.anims.create({key:"jumpLeft",frames:this.anims.generateFrameNumbers("gunner",{start:12,end:13}),frameRate:10})}createAnimsEnnemy(){this.anims.create({key:"idleEnnemy",frames:this.anims.generateFrameNumbers("ennemy",{start:0,end:4}),frameRate:10})}SetUpTimer(){this.inGameBoolean=!0,this.playedTime=0,this.timerText=this.add.text(32,32,"Timer: "+this.formatTime(this.playedTime)),this.timerTimeEvent=this.time.addEvent({delay:1e3,callback:this.onEvent,callbackScope:this,loop:!0})}formatTime(e){var t=e%60;return`${Math.floor(e/60)}:${t=t.toString().padStart(2,"0")}`}onEvent(){!0===this.inGameBoolean&&(this.playedTime+=1,this.timerText.setText("Timer: "+this.formatTime(this.playedTime)))}stopAndSaveTimer(){console.log("COUCOUCOCUOCUC"),console.log("fdp"),this.inGameBoolean=!1,this.completedTime=this.playedTime}end(){}}const y=h;class p extends Phaser.Scene{constructor(){super({key:"map3"}),this.player,this.cursors,this.faceRight,this.ennemyFaceRight,this.PlayerBulletGroup,this.EnnemyBulletGroup,this.bulletDelay,this.ennemyBulletDelay,this.ennemy,this.timerText,this.timerTimeEvent,this.completedTime,this.playedTime,this.inGameBoolean,this.lvlOneSpawnPoint,this.nameLvlMap}init(){}preload(){this.load.image("tempBackground","assets/Map/Wasteland_Sky.png"),this.load.spritesheet("gunner","assets/TeamGunner/CHARACTER_SPRITES/Black/Gunner_Black_Full_Line2.png",{frameWidth:28,frameHeight:35}),this.load.image("bullet","assets/TeamGunner/EXTRAS/bullet.png"),this.load.spritesheet("ennemy","assets/TeamGunner/CHARACTER_SPRITES/Red/Gunner_Red_idle.png",{frameWidth:48,frameHeight:48}),this.load.image("ennemyBullet","assets/TeamGunner/EXTRAS/MuzzleFLash.png"),this.load.image("map_assets","assets/Map/Wasteland.png"),this.load.tilemapTiledJSON("map3","assets/Map/Map3.json")}create(){this.createBackground(),this.createCharacter(),this.createAnims(),this.createALvl(),this.createSpawnPointLvl(180,380,400,750,300,500,150,600),this.SetUpTimer(),this.input.keyboard.on("keydown_W",this.stopAndSaveTimer,this),this.createEnnemy(),this.createAnimsEnnemy(),this.PlayerBulletGroup=new n(this),this.EnnemyBulletGroup=new a(this),this.physics.add.overlap(this.ennemy,this.PlayerBulletGroup,this.enemyHit,null,this),this.physics.add.overlap(this.PlayerBulletGroup,this.mapLayer,this.wallHiy,null,this),this.createDelay(),this.cursors=this.input.keyboard.createCursorKeys(),console.log(this)}update(){this.movements(),this.ennemyMovements(),this.shoot(),this.Ennemyshoot(),this.checkingDelay(),this.checkingEnnemyDelay()}createBackground(){this.add.image(400,280,"tempBackground")}createCharacter(){this.player=this.physics.add.sprite(35,400,"gunner"),this.faceRight=!0,this.player.setCollideWorldBounds(!0)}createALvl(){this.createLvlOneMap(),this.createLvlOneTileSet(),this.createLvlOnePlateform()}createLvlOneMap(){this.map=this.make.tilemap({key:"map3"})}createLvlOneTileSet(){this.tileset=this.map.addTilesetImage("map_assets_js","map_assets")}createLvlOnePlateform(){this.mapLayer=this.map.createStaticLayer(0,this.tileset,0,0),this.mapLayer.setCollisionByExclusion([-1]),this.physics.add.collider(this.player,this.mapLayer)}createSpawnPointLvl(e,t,i,r,n,s,a,o){this.lvlOneSpawnPoint=new Array,this.lvlOneSpawnPoint.push(e),this.lvlOneSpawnPoint.push(t),this.lvlOneSpawnPoint.push(i),this.lvlOneSpawnPoint.push(r),this.lvlOneSpawnPoint.push(n),this.lvlOneSpawnPoint.push(s),this.lvlOneSpawnPoint.push(a),this.lvlOneSpawnPoint.push(o)}createEnnemy(){this.ennemy=this.physics.add.sprite(this.lvlOneSpawnPoint.pop(),this.lvlOneSpawnPoint.pop(),"ennemy"),this.faceRight=!0,this.ennemy.setCollideWorldBounds(!0),this.physics.add.collider(this.ennemy,this.mapLayer)}createDelay(){this.bulletDelay=10,this.ennemyBulletDelay=3}checkingDelay(){this.bulletDelay<=9&&this.bulletDelay++}checkingEnnemyDelay(){this.ennemyBulletDelay<=2&&this.ennemyBulletDelay++}movements(){this.cursors.right.isDown?(this.faceRight=!0,this.player.setVelocityX(160),this.player.body.blocked.down&&this.player.anims.play("right",!0)):this.cursors.left.isDown?(this.faceRight=!1,this.player.setVelocityX(-160),this.player.body.blocked.down&&this.player.anims.play("left",!0)):(this.player.setVelocityX(0),this.faceRight?this.player.anims.play("idleRight",!0):this.player.anims.play("idleLeft",!0)),this.cursors.up.isDown&&this.player.body.blocked.down&&this.player.setVelocityY(-250),this.player.body.blocked.down||(this.faceRight?this.player.anims.play("jumpRight",!0):this.player.anims.play("jumpLeft",!0))}ennemyMovements(){this.player.x-this.ennemy.x>0?(this.ennemy.scaleX=1,this.ennemyFaceRight=!0):(this.ennemy.scaleX=-1,this.ennemyFaceRight=!1),this.ennemy.anims.play("idleEnnemy",!0)}shoot(){this.cursors.space.isDown&&10==this.bulletDelay&&(this.PlayerBulletGroup.shootBullet(this.player.x,this.player.y,this.faceRight),this.bulletDelay=0)}Ennemyshoot(){3==this.ennemyBulletDelay&&(this.EnnemyBulletGroup.shootBullet(this.ennemy.x,this.ennemy.y,this.ennemyFaceRight),this.ennemyBulletDelay=0)}enemyHit(e,t){console.log("ennemy hit"),this.lvlOneSpawnPoint.length<=8||(e.x=this.lvlOneSpawnPoint.pop(),e.y=this.lvlOneSpawnPoint.pop(),t.destroy())}wallHit(e,t){e.destroy()}switchMap(){this.lvlOneSpawnPoint=new Array,this.nameLvlMap.length=0}createAnims(){this.anims.create({key:"left",frames:this.anims.generateFrameNumbers("gunner",{start:14,end:19}),frameRate:10}),this.anims.create({key:"right",frames:this.anims.generateFrameNumbers("gunner",{start:20,end:25}),frameRate:10}),this.anims.create({key:"idleRight",frames:this.anims.generateFrameNumbers("gunner",{start:0,end:4}),frameRate:10}),this.anims.create({key:"idleLeft",frames:this.anims.generateFrameNumbers("gunner",{start:5,end:9}),frameRate:10}),this.anims.create({key:"jumpRight",frames:this.anims.generateFrameNumbers("gunner",{start:10,end:11}),frameRate:10}),this.anims.create({key:"jumpLeft",frames:this.anims.generateFrameNumbers("gunner",{start:12,end:13}),frameRate:10})}createAnimsEnnemy(){this.anims.create({key:"idleEnnemy",frames:this.anims.generateFrameNumbers("ennemy",{start:0,end:4}),frameRate:10})}SetUpTimer(){this.inGameBoolean=!0,this.playedTime=0,this.timerText=this.add.text(32,32,"Timer: "+this.formatTime(this.playedTime)),this.timerTimeEvent=this.time.addEvent({delay:1e3,callback:this.onEvent,callbackScope:this,loop:!0})}formatTime(e){var t=e%60;return`${Math.floor(e/60)}:${t=t.toString().padStart(2,"0")}`}onEvent(){!0===this.inGameBoolean&&(this.playedTime+=1,this.timerText.setText("Timer: "+this.formatTime(this.playedTime)))}stopAndSaveTimer(){console.log("COUCOUCOCUOCUC"),console.log("fdp"),this.inGameBoolean=!1,this.completedTime=this.playedTime}end(){}}const m=p;var c=new l,u=new t,d=new y,f=new m,g={type:Phaser.AUTO,width:800,height:560,physics:{default:"arcade",arcade:{gravity:{y:300},debug:!0}}},b=new Phaser.Game(g);console.log(g),b.scene.add("menu",u),b.scene.add("map1",c),b.scene.add("map2",d),b.scene.add("map3",f),b.scene.start("menu")})()})();