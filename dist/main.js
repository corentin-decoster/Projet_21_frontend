(()=>{"use strict";class e extends Phaser.Scene{constructor(){super({key:"menu"}),this.start,this.score}preload(){this.load.image("background","./assets/menu_bg.jpg"),this.load.image("start","./assets/start.png"),this.load.image("score","./assets/score.png")}create(){this.add.sprite(0,0,"background").setOrigin(0,0),this.start=this.add.image(370,210,"start"),this.start.setScale(.2),this.start.setInteractive({useHandCursor:!0}),this.start.on("pointerdown",(()=>this.clickButton())),this.score=this.add.image(370,440,"score"),this.score.setScale(.3),this.score.setInteractive({useHandCursor:!0}),this.score.on("pointerdown",(()=>this.highscore()))}clickButton(){this.scene.start("map1")}highscore(){this.scene.start("score")}}const t=e;class s extends Phaser.Physics.Arcade.Sprite{constructor(e,t,s){super(e,t,s,"bullet")}fire(e,t,s){this.body.setAllowGravity(!1),this.body.reset(e,t),this.setActive(!0),this.setVisible(!0),s?this.setVelocityX(500):s||this.setVelocityX(-500)}preUpdate(e,t){super.preUpdate(e,t),(this.x>=800||this.x<=0)&&(this.setActive(!1),this.setVisible(!1))}}class i extends Phaser.Physics.Arcade.Group{constructor(e){super(e.physics.world,e),this.createMultiple({classType:s,frameQuantity:30,active:!1,visible:!1,key:"bullet"})}shootBullet(e,t,s){const i=this.getFirstDead(!1);i&&i.fire(e,t,s)}}class a extends Phaser.Physics.Arcade.Sprite{constructor(e,t,s){super(e,t,s,"ennemyBullet")}fire(e,t,s){this.body.setAllowGravity(!1),this.body.reset(e,t),this.setActive(!0),this.setVisible(!0),s?this.setVelocityX(300):s||this.setVelocityX(-300)}preUpdate(e,t){super.preUpdate(e,t),(this.x>=800||this.x<=0)&&(this.setActive(!1),this.setVisible(!1))}}class n extends Phaser.Physics.Arcade.Group{constructor(e){super(e.physics.world,e),this.createMultiple({classType:a,frameQuantity:3,active:!1,visible:!1,key:"ennemyBullet"})}shootBullet(e,t,s){const i=this.getFirstDead(!1);i&&i.fire(e,t,s)}}class l extends Phaser.Scene{constructor(){super({key:"map1"}),this.player,this.cursors,this.faceRight,this.ennemyFaceRight,this.PlayerBulletGroup,this.EnnemyBulletGroup,this.bulletDelay,this.ennemyBulletDelay,this.ennemy,this.timerText,this.timerTimeEvent,this.completedTime,this.playedTime,this.inGameBoolean,this.lvlOneSpawnPoint,this.nameLvlMap}init(){}preload(){this.load.image("tempBackground","assets/Map/Wasteland_Sky.png"),this.load.spritesheet("gunner","assets/TeamGunner/CHARACTER_SPRITES/Black/Gunner_Black_Full_Line2.png",{frameWidth:28,frameHeight:35}),this.load.image("bullet","assets/TeamGunner/EXTRAS/bullet.png"),this.load.spritesheet("ennemy","assets/TeamGunner/CHARACTER_SPRITES/Red/Gunner_Red_idle.png",{frameWidth:48,frameHeight:48}),this.load.image("ennemyBullet","assets/TeamGunner/EXTRAS/MuzzleFLash.png"),this.load.image("map_assets","assets/Map/Wasteland.png"),this.load.tilemapTiledJSON("map1","assets/Map/Map1.json")}create(){this.createBackground(),this.createCharacter(),this.createAnims(),this.createALvl(),this.createSpawnPointLvl(180,380,400,750,300,500,150,600),this.playedTime=this.time,this.SetUpTimer(),this.input.keyboard.on("keydown_W",this.stopAndSaveTimer,this),this.createEnnemy(),this.createAnimsEnnemy(),this.PlayerBulletGroup=new i(this),this.EnnemyBulletGroup=new n(this),this.physics.add.overlap(this.ennemy,this.PlayerBulletGroup,this.enemyHit,null,this),this.physics.add.overlap(this.PlayerBulletGroup,this.mapLayer,this.wallHiy,null,this),this.createDelay(),this.cursors=this.input.keyboard.createCursorKeys(),console.log(this)}update(){this.movements(),this.ennemyMovements(),this.shoot(),this.Ennemyshoot(),this.checkingDelay(),this.checkingEnnemyDelay()}createBackground(){this.add.image(400,280,"tempBackground")}createCharacter(){this.player=this.physics.add.sprite(35,400,"gunner"),this.faceRight=!0,this.player.setCollideWorldBounds(!0)}createALvl(){this.createLvlOneMap(),this.createLvlOneTileSet(),this.createLvlOnePlateform()}createLvlOneMap(){this.map=this.make.tilemap({key:"map1"})}createLvlOneTileSet(){this.tileset=this.map.addTilesetImage("map_assets_js","map_assets")}createLvlOnePlateform(){this.mapLayer=this.map.createStaticLayer(0,this.tileset,0,0),this.mapLayer.setCollisionByExclusion([-1]),this.physics.add.collider(this.player,this.mapLayer)}createSpawnPointLvl(e,t,s,i,a,n,l,h){this.lvlOneSpawnPoint=new Array,this.lvlOneSpawnPoint.push(e),this.lvlOneSpawnPoint.push(t),this.lvlOneSpawnPoint.push(s),this.lvlOneSpawnPoint.push(i),this.lvlOneSpawnPoint.push(a),this.lvlOneSpawnPoint.push(n),this.lvlOneSpawnPoint.push(l),this.lvlOneSpawnPoint.push(h)}createEnnemy(){this.ennemy=this.physics.add.sprite(this.lvlOneSpawnPoint.pop(),this.lvlOneSpawnPoint.pop(),"ennemy"),this.faceRight=!0,this.ennemy.setCollideWorldBounds(!0),this.physics.add.collider(this.ennemy,this.mapLayer)}createDelay(){this.bulletDelay=10,this.ennemyBulletDelay=3}checkingDelay(){this.bulletDelay<=9&&this.bulletDelay++}checkingEnnemyDelay(){this.ennemyBulletDelay<=2&&this.ennemyBulletDelay++}movements(){this.cursors.right.isDown?(this.faceRight=!0,this.player.setVelocityX(160),this.player.body.blocked.down&&this.player.anims.play("right",!0)):this.cursors.left.isDown?(this.faceRight=!1,this.player.setVelocityX(-160),this.player.body.blocked.down&&this.player.anims.play("left",!0)):(this.player.setVelocityX(0),this.faceRight?this.player.anims.play("idleRight",!0):this.player.anims.play("idleLeft",!0)),this.cursors.up.isDown&&this.player.body.blocked.down&&this.player.setVelocityY(-250),this.player.body.blocked.down||(this.faceRight?this.player.anims.play("jumpRight",!0):this.player.anims.play("jumpLeft",!0))}ennemyMovements(){this.player.x-this.ennemy.x>0?(this.ennemy.scaleX=1,this.ennemyFaceRight=!0):(this.ennemy.scaleX=-1,this.ennemyFaceRight=!1),this.ennemy.anims.play("idleEnnemy",!0)}shoot(){this.cursors.space.isDown&&10==this.bulletDelay&&(this.PlayerBulletGroup.shootBullet(this.player.x,this.player.y,this.faceRight),this.bulletDelay=0)}Ennemyshoot(){3==this.ennemyBulletDelay&&(this.EnnemyBulletGroup.shootBullet(this.ennemy.x,this.ennemy.y,this.ennemyFaceRight),this.ennemyBulletDelay=0)}enemyHit(e,t){if(console.log("ennemy hit"),this.lvlOneSpawnPoint.length<=8)return console.log(this.playedTime+"time before switch"),void this.scene.start("endMenu",{time:this.playedTime});e.x=this.lvlOneSpawnPoint.pop(),e.y=this.lvlOneSpawnPoint.pop(),t.destroy()}wallHit(e,t){e.destroy()}switchMap(){this.lvlOneSpawnPoint=new Array,this.nameLvlMap.length=0}createAnims(){this.anims.create({key:"left",frames:this.anims.generateFrameNumbers("gunner",{start:14,end:19}),frameRate:10}),this.anims.create({key:"right",frames:this.anims.generateFrameNumbers("gunner",{start:20,end:25}),frameRate:10}),this.anims.create({key:"idleRight",frames:this.anims.generateFrameNumbers("gunner",{start:0,end:4}),frameRate:10}),this.anims.create({key:"idleLeft",frames:this.anims.generateFrameNumbers("gunner",{start:5,end:9}),frameRate:10}),this.anims.create({key:"jumpRight",frames:this.anims.generateFrameNumbers("gunner",{start:10,end:11}),frameRate:10}),this.anims.create({key:"jumpLeft",frames:this.anims.generateFrameNumbers("gunner",{start:12,end:13}),frameRate:10})}createAnimsEnnemy(){this.anims.create({key:"idleEnnemy",frames:this.anims.generateFrameNumbers("ennemy",{start:0,end:4}),frameRate:10})}SetUpTimer(){this.inGameBoolean=!0,this.playedTime=0,this.timerText=this.add.text(32,32,"Timer: "+this.formatTime(this.playedTime)),this.timerTimeEvent=this.time.addEvent({delay:1e3,callback:this.onEvent,callbackScope:this,loop:!0})}formatTime(e){var t=e%60;return`${Math.floor(e/60)}:${t=t.toString().padStart(2,"0")}`}onEvent(){!0===this.inGameBoolean&&(this.playedTime+=1,this.timerText.setText("Timer: "+this.formatTime(this.playedTime)))}stopAndSaveTimer(){console.log("COUCOUCOCUOCUC"),console.log("fdp"),this.inGameBoolean=!1,this.completedTime=this.playedTime}getTimer(){return this.playedTime}end(){}}const h=l;class r extends Phaser.Scene{constructor(){super({key:"map2"}),this.player,this.cursors,this.faceRight,this.ennemyFaceRight,this.PlayerBulletGroup,this.EnnemyBulletGroup,this.bulletDelay,this.ennemyBulletDelay,this.ennemy,this.timerText,this.timerTimeEvent,this.completedTime,this.playedTime=this.time,this.inGameBoolean,this.lvlOneSpawnPoint,this.nameLvlMap}init(e){this.playedTime=e.time}preload(){this.load.image("tempBackground","assets/Map/Wasteland_Sky.png"),this.load.spritesheet("gunner","assets/TeamGunner/CHARACTER_SPRITES/Black/Gunner_Black_Full_Line2.png",{frameWidth:28,frameHeight:35}),this.load.image("bullet","assets/TeamGunner/EXTRAS/bullet.png"),this.load.spritesheet("ennemy","assets/TeamGunner/CHARACTER_SPRITES/Red/Gunner_Red_idle.png",{frameWidth:48,frameHeight:48}),this.load.image("ennemyBullet","assets/TeamGunner/EXTRAS/MuzzleFLash.png"),this.load.image("map_assets","assets/Map/Wasteland.png"),this.load.tilemapTiledJSON("map2","assets/Map/Map2.json")}create(){this.createBackground(),this.createCharacter(),this.createAnims(),this.createALvl(),this.createSpawnPointLvl(180,380,400,750,300,500,150,600),this.SetUpTimer(),this.input.keyboard.on("keydown_W",this.stopAndSaveTimer,this),this.createEnnemy(),this.createAnimsEnnemy(),this.PlayerBulletGroup=new i(this),this.EnnemyBulletGroup=new n(this),this.physics.add.overlap(this.ennemy,this.PlayerBulletGroup,this.enemyHit,null,this),this.physics.add.overlap(this.PlayerBulletGroup,this.mapLayer,this.wallHiy,null,this),this.createDelay(),this.cursors=this.input.keyboard.createCursorKeys(),console.log(this)}update(){this.movements(),this.ennemyMovements(),this.shoot(),this.Ennemyshoot(),this.checkingDelay(),this.checkingEnnemyDelay()}createBackground(){this.add.image(400,280,"tempBackground")}createCharacter(){this.player=this.physics.add.sprite(35,400,"gunner"),this.faceRight=!0,this.player.setCollideWorldBounds(!0)}createALvl(){this.createLvlOneMap(),this.createLvlOneTileSet(),this.createLvlOnePlateform()}createLvlOneMap(){this.map=this.make.tilemap({key:"map2"})}createLvlOneTileSet(){this.tileset=this.map.addTilesetImage("map_assets_js","map_assets")}createLvlOnePlateform(){this.mapLayer=this.map.createStaticLayer(0,this.tileset,0,0),this.mapLayer.setCollisionByExclusion([-1]),this.physics.add.collider(this.player,this.mapLayer)}createSpawnPointLvl(e,t,s,i,a,n,l,h){this.lvlOneSpawnPoint=new Array,this.lvlOneSpawnPoint.push(e),this.lvlOneSpawnPoint.push(t),this.lvlOneSpawnPoint.push(s),this.lvlOneSpawnPoint.push(i),this.lvlOneSpawnPoint.push(a),this.lvlOneSpawnPoint.push(n),this.lvlOneSpawnPoint.push(l),this.lvlOneSpawnPoint.push(h)}createEnnemy(){this.ennemy=this.physics.add.sprite(this.lvlOneSpawnPoint.pop(),this.lvlOneSpawnPoint.pop(),"ennemy"),this.faceRight=!0,this.ennemy.setCollideWorldBounds(!0),this.physics.add.collider(this.ennemy,this.mapLayer)}createDelay(){this.bulletDelay=10,this.ennemyBulletDelay=3}checkingDelay(){this.bulletDelay<=9&&this.bulletDelay++}checkingEnnemyDelay(){this.ennemyBulletDelay<=2&&this.ennemyBulletDelay++}movements(){this.cursors.right.isDown?(this.faceRight=!0,this.player.setVelocityX(160),this.player.body.blocked.down&&this.player.anims.play("right",!0)):this.cursors.left.isDown?(this.faceRight=!1,this.player.setVelocityX(-160),this.player.body.blocked.down&&this.player.anims.play("left",!0)):(this.player.setVelocityX(0),this.faceRight?this.player.anims.play("idleRight",!0):this.player.anims.play("idleLeft",!0)),this.cursors.up.isDown&&this.player.body.blocked.down&&this.player.setVelocityY(-250),this.player.body.blocked.down||(this.faceRight?this.player.anims.play("jumpRight",!0):this.player.anims.play("jumpLeft",!0))}ennemyMovements(){this.player.x-this.ennemy.x>0?(this.ennemy.scaleX=1,this.ennemyFaceRight=!0):(this.ennemy.scaleX=-1,this.ennemyFaceRight=!1),this.ennemy.anims.play("idleEnnemy",!0)}shoot(){this.cursors.space.isDown&&10==this.bulletDelay&&(this.PlayerBulletGroup.shootBullet(this.player.x,this.player.y,this.faceRight),this.bulletDelay=0)}Ennemyshoot(){3==this.ennemyBulletDelay&&(this.EnnemyBulletGroup.shootBullet(this.ennemy.x,this.ennemy.y,this.ennemyFaceRight),this.ennemyBulletDelay=0)}enemyHit(e,t){console.log("ennemy hit"),this.lvlOneSpawnPoint.length<=8?this.scene.start("map3",{time:this.playedTime}):(e.x=this.lvlOneSpawnPoint.pop(),e.y=this.lvlOneSpawnPoint.pop(),t.destroy())}wallHit(e,t){e.destroy()}switchMap(){this.lvlOneSpawnPoint=new Array,this.nameLvlMap.length=0}createAnims(){this.anims.create({key:"left",frames:this.anims.generateFrameNumbers("gunner",{start:14,end:19}),frameRate:10}),this.anims.create({key:"right",frames:this.anims.generateFrameNumbers("gunner",{start:20,end:25}),frameRate:10}),this.anims.create({key:"idleRight",frames:this.anims.generateFrameNumbers("gunner",{start:0,end:4}),frameRate:10}),this.anims.create({key:"idleLeft",frames:this.anims.generateFrameNumbers("gunner",{start:5,end:9}),frameRate:10}),this.anims.create({key:"jumpRight",frames:this.anims.generateFrameNumbers("gunner",{start:10,end:11}),frameRate:10}),this.anims.create({key:"jumpLeft",frames:this.anims.generateFrameNumbers("gunner",{start:12,end:13}),frameRate:10})}createAnimsEnnemy(){this.anims.create({key:"idleEnnemy",frames:this.anims.generateFrameNumbers("ennemy",{start:0,end:4}),frameRate:10})}SetUpTimer(){this.inGameBoolean=!0,console.log(this.playedTime),this.timerText=this.add.text(32,32,"Timer: "+this.formatTime(this.playedTime)),this.timerTimeEvent=this.time.addEvent({delay:1e3,callback:this.onEvent,callbackScope:this,loop:!0})}formatTime(e){var t=e%60;return`${Math.floor(e/60)}:${t=t.toString().padStart(2,"0")}`}onEvent(){!0===this.inGameBoolean&&(this.playedTime+=1,this.timerText.setText("Timer: "+this.formatTime(this.playedTime)))}stopAndSaveTimer(){console.log("COUCOUCOCUOCUC"),console.log("fdp"),this.inGameBoolean=!1,this.completedTime=this.playedTime}end(){}}const m=r;class o extends Phaser.Scene{constructor(){super({key:"map3"}),this.player,this.cursors,this.faceRight,this.ennemyFaceRight,this.PlayerBulletGroup,this.EnnemyBulletGroup,this.bulletDelay,this.ennemyBulletDelay,this.ennemy,this.timerText,this.timerTimeEvent,this.completedTime,this.playedTime,this.inGameBoolean,this.lvlOneSpawnPoint,this.nameLvlMap}init(e){this.playedTime=e.time}preload(){this.load.image("tempBackground","assets/Map/Wasteland_Sky.png"),this.load.spritesheet("gunner","assets/TeamGunner/CHARACTER_SPRITES/Black/Gunner_Black_Full_Line2.png",{frameWidth:28,frameHeight:35}),this.load.image("bullet","assets/TeamGunner/EXTRAS/bullet.png"),this.load.spritesheet("ennemy","assets/TeamGunner/CHARACTER_SPRITES/Red/Gunner_Red_idle.png",{frameWidth:48,frameHeight:48}),this.load.image("ennemyBullet","assets/TeamGunner/EXTRAS/MuzzleFLash.png"),this.load.image("map_assets","assets/Map/Wasteland.png"),this.load.tilemapTiledJSON("map3","assets/Map/Map3.json")}create(){this.createBackground(),this.createCharacter(),this.createAnims(),this.createALvl(),this.createSpawnPointLvl(180,380,400,750,300,500,150,600),this.SetUpTimer(),this.input.keyboard.on("keydown_W",this.stopAndSaveTimer,this),this.createEnnemy(),this.createAnimsEnnemy(),this.PlayerBulletGroup=new i(this),this.EnnemyBulletGroup=new n(this),this.physics.add.overlap(this.ennemy,this.PlayerBulletGroup,this.enemyHit,null,this),this.physics.add.overlap(this.PlayerBulletGroup,this.mapLayer,this.wallHiy,null,this),this.createDelay(),this.cursors=this.input.keyboard.createCursorKeys(),console.log(this)}update(){this.movements(),this.ennemyMovements(),this.shoot(),this.Ennemyshoot(),this.checkingDelay(),this.checkingEnnemyDelay()}createBackground(){this.add.image(400,280,"tempBackground")}createCharacter(){this.player=this.physics.add.sprite(35,400,"gunner"),this.faceRight=!0,this.player.setCollideWorldBounds(!0)}createALvl(){this.createLvlOneMap(),this.createLvlOneTileSet(),this.createLvlOnePlateform()}createLvlOneMap(){this.map=this.make.tilemap({key:"map3"})}createLvlOneTileSet(){this.tileset=this.map.addTilesetImage("map_assets_js","map_assets")}createLvlOnePlateform(){this.mapLayer=this.map.createStaticLayer(0,this.tileset,0,0),this.mapLayer.setCollisionByExclusion([-1]),this.physics.add.collider(this.player,this.mapLayer)}createSpawnPointLvl(e,t,s,i,a,n,l,h){this.lvlOneSpawnPoint=new Array,this.lvlOneSpawnPoint.push(e),this.lvlOneSpawnPoint.push(t),this.lvlOneSpawnPoint.push(s),this.lvlOneSpawnPoint.push(i),this.lvlOneSpawnPoint.push(a),this.lvlOneSpawnPoint.push(n),this.lvlOneSpawnPoint.push(l),this.lvlOneSpawnPoint.push(h)}createEnnemy(){this.ennemy=this.physics.add.sprite(this.lvlOneSpawnPoint.pop(),this.lvlOneSpawnPoint.pop(),"ennemy"),this.faceRight=!0,this.ennemy.setCollideWorldBounds(!0),this.physics.add.collider(this.ennemy,this.mapLayer)}createDelay(){this.bulletDelay=10,this.ennemyBulletDelay=3}checkingDelay(){this.bulletDelay<=9&&this.bulletDelay++}checkingEnnemyDelay(){this.ennemyBulletDelay<=2&&this.ennemyBulletDelay++}movements(){this.cursors.right.isDown?(this.faceRight=!0,this.player.setVelocityX(160),this.player.body.blocked.down&&this.player.anims.play("right",!0)):this.cursors.left.isDown?(this.faceRight=!1,this.player.setVelocityX(-160),this.player.body.blocked.down&&this.player.anims.play("left",!0)):(this.player.setVelocityX(0),this.faceRight?this.player.anims.play("idleRight",!0):this.player.anims.play("idleLeft",!0)),this.cursors.up.isDown&&this.player.body.blocked.down&&this.player.setVelocityY(-250),this.player.body.blocked.down||(this.faceRight?this.player.anims.play("jumpRight",!0):this.player.anims.play("jumpLeft",!0))}ennemyMovements(){this.player.x-this.ennemy.x>0?(this.ennemy.scaleX=1,this.ennemyFaceRight=!0):(this.ennemy.scaleX=-1,this.ennemyFaceRight=!1),this.ennemy.anims.play("idleEnnemy",!0)}shoot(){this.cursors.space.isDown&&10==this.bulletDelay&&(this.PlayerBulletGroup.shootBullet(this.player.x,this.player.y,this.faceRight),this.bulletDelay=0)}Ennemyshoot(){3==this.ennemyBulletDelay&&(this.EnnemyBulletGroup.shootBullet(this.ennemy.x,this.ennemy.y,this.ennemyFaceRight),this.ennemyBulletDelay=0)}enemyHit(e,t){console.log("ennemy hit"),this.lvlOneSpawnPoint.length<=8?this.scene.start("endMenu",{time:this.playedTime}):(e.x=this.lvlOneSpawnPoint.pop(),e.y=this.lvlOneSpawnPoint.pop(),t.destroy())}wallHit(e,t){e.destroy()}switchMap(){this.lvlOneSpawnPoint=new Array,this.nameLvlMap.length=0}createAnims(){this.anims.create({key:"left",frames:this.anims.generateFrameNumbers("gunner",{start:14,end:19}),frameRate:10}),this.anims.create({key:"right",frames:this.anims.generateFrameNumbers("gunner",{start:20,end:25}),frameRate:10}),this.anims.create({key:"idleRight",frames:this.anims.generateFrameNumbers("gunner",{start:0,end:4}),frameRate:10}),this.anims.create({key:"idleLeft",frames:this.anims.generateFrameNumbers("gunner",{start:5,end:9}),frameRate:10}),this.anims.create({key:"jumpRight",frames:this.anims.generateFrameNumbers("gunner",{start:10,end:11}),frameRate:10}),this.anims.create({key:"jumpLeft",frames:this.anims.generateFrameNumbers("gunner",{start:12,end:13}),frameRate:10})}createAnimsEnnemy(){this.anims.create({key:"idleEnnemy",frames:this.anims.generateFrameNumbers("ennemy",{start:0,end:4}),frameRate:10})}SetUpTimer(){this.inGameBoolean=!0,this.timerText=this.add.text(32,32,"Timer: "+this.formatTime(this.playedTime)),this.timerTimeEvent=this.time.addEvent({delay:1e3,callback:this.onEvent,callbackScope:this,loop:!0})}formatTime(e){var t=e%60;return`${Math.floor(e/60)}:${t=t.toString().padStart(2,"0")}`}onEvent(){!0===this.inGameBoolean&&(this.playedTime+=1,this.timerText.setText("Timer: "+this.formatTime(this.playedTime)))}stopAndSaveTimer(){console.log("COUCOUCOCUOCUC"),console.log("fdp"),this.inGameBoolean=!1,this.completedTime=this.playedTime}end(){}}const p=o;class y extends Phaser.Scene{constructor(){super({key:"score"})}preload(){this.load.image("score","./assets/score.png")}create(){this.add.image(370,150,"score"),this.getHighScore()}clickButton(){this.scene.start("menu")}getHighScore(){const e=new XMLHttpRequest;e.open("GET","http://localhost:8000/users",!1),e.send();var t=280;const s=JSON.parse(e.responseText);for(let e of s){let s=e.player;console.log(s+" name");let i=e.score;console.log(i+" score"),this.add.text(400,t,`name : ${s} et score : ${i}`),t+=20}}}const c=y;class d extends Phaser.Scene{constructor(){super({key:"endMenu"}),this.playedTime}init(e){this.playedTime=e.time}preload(){this.load.image("score","./assets/score.png"),this.load.html("form","./form.html")}create(){this.add.image(370,150,"score"),this.add.text(400,280,`MY SCORE HUEHUE IS : ${this.playedTime}`);var e=this.add.dom(400,250).createFromCache("form");e.addListener("click"),e.on("click",(function(e){if("playButton"===e.target.name){var t=this.getChildByName("nameField");""!==t.value?(this.removeListener("click"),this.setVisible(!1),text.setText("Welcome "+t.value)):this.scene.tweens.add({targets:text,alpha:.2,duration:250,ease:"Power3",yoyo:!0})}}))}clickButton(){this.scene.start("score")}postMyScore(){}}const u=d;var g=new h,v=new t,f=new m,T=new p,S=new c,w=new u,k={type:Phaser.AUTO,width:800,height:560,physics:{default:"arcade",arcade:{gravity:{y:300},debug:!0}}},R=new Phaser.Game(k);console.log(k),R.scene.add("menu",v),R.scene.add("map1",g),R.scene.add("map2",f),R.scene.add("map3",T),R.scene.add("score",S),R.scene.add("endMenu",w),R.scene.start("menu")})();